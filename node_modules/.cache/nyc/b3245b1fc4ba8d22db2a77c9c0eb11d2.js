var cov_1ppmvnth1x=function(){var path="/Users/elenavolovicheva/Documents/Study/JS/2018-js-crash-course/services/institution-service.js",hash="03475dab8b395d95aca4e02e8ef6811794f9dc28",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/elenavolovicheva/Documents/Study/JS/2018-js-crash-course/services/institution-service.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:24}},"1":{start:{line:2,column:25},end:{line:2,column:57}},"2":{start:{line:3,column:23},end:{line:3,column:53}},"3":{start:{line:4,column:21},end:{line:4,column:49}},"4":{start:{line:7,column:24},end:{line:7,column:78}},"5":{start:{line:8,column:22},end:{line:8,column:72}},"6":{start:{line:10,column:4},end:{line:10,column:42}},"7":{start:{line:12,column:4},end:{line:12,column:28}},"8":{start:{line:14,column:4},end:{line:14,column:22}},"9":{start:{line:18,column:24},end:{line:18,column:78}},"10":{start:{line:19,column:20},end:{line:19,column:66}},"11":{start:{line:21,column:4},end:{line:21,column:38}},"12":{start:{line:23,column:4},end:{line:23,column:28}},"13":{start:{line:25,column:4},end:{line:25,column:22}},"14":{start:{line:29,column:4},end:{line:31,column:29}},"15":{start:{line:35,column:4},end:{line:35,column:45}},"16":{start:{line:39,column:4},end:{line:39,column:43}},"17":{start:{line:43,column:4},end:{line:45,column:29}},"18":{start:{line:49,column:4},end:{line:49,column:62}},"19":{start:{line:52,column:0},end:{line:60,column:1}}},fnMap:{"0":{name:"addApplicant",decl:{start:{line:6,column:15},end:{line:6,column:27}},loc:{start:{line:6,column:56},end:{line:15,column:1}},line:6},"1":{name:"addSubject",decl:{start:{line:17,column:15},end:{line:17,column:25}},loc:{start:{line:17,column:52},end:{line:26,column:1}},line:17},"2":{name:"findAll",decl:{start:{line:28,column:15},end:{line:28,column:22}},loc:{start:{line:28,column:25},end:{line:32,column:1}},line:28},"3":{name:"add",decl:{start:{line:34,column:15},end:{line:34,column:18}},loc:{start:{line:34,column:30},end:{line:36,column:1}},line:34},"4":{name:"del",decl:{start:{line:38,column:15},end:{line:38,column:18}},loc:{start:{line:38,column:24},end:{line:40,column:1}},line:38},"5":{name:"find",decl:{start:{line:42,column:15},end:{line:42,column:19}},loc:{start:{line:42,column:25},end:{line:46,column:1}},line:42},"6":{name:"findByName",decl:{start:{line:48,column:15},end:{line:48,column:25}},loc:{start:{line:48,column:43},end:{line:50,column:1}},line:48}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const fs=(cov_1ppmvnth1x.s[0]++,require('fs'));const InstitutionModel=(cov_1ppmvnth1x.s[1]++,require('../models/institution'));const ApplicantModel=(cov_1ppmvnth1x.s[2]++,require('../models/applicant'));const SubjectModel=(cov_1ppmvnth1x.s[3]++,require('../models/subject'));async function addApplicant(institutionId,applicantId){cov_1ppmvnth1x.f[0]++;const institution=(cov_1ppmvnth1x.s[4]++,await InstitutionModel.findOne({_id:institutionId}));const applicant=(cov_1ppmvnth1x.s[5]++,await ApplicantModel.findOne({_id:applicantId}));cov_1ppmvnth1x.s[6]++;institution.applicants.push(applicant);cov_1ppmvnth1x.s[7]++;await institution.save();cov_1ppmvnth1x.s[8]++;return institution;}async function addSubject(institutionId,subjectId){cov_1ppmvnth1x.f[1]++;const institution=(cov_1ppmvnth1x.s[9]++,await InstitutionModel.findOne({_id:institutionId}));const subject=(cov_1ppmvnth1x.s[10]++,await SubjectModel.findOne({_id:subjectId}));cov_1ppmvnth1x.s[11]++;institution.subjects.push(subject);cov_1ppmvnth1x.s[12]++;await institution.save();cov_1ppmvnth1x.s[13]++;return institution;}async function findAll(){cov_1ppmvnth1x.f[2]++;cov_1ppmvnth1x.s[14]++;return InstitutionModel.find().populate('applicants').populate('subjects');}async function add(applicant){cov_1ppmvnth1x.f[3]++;cov_1ppmvnth1x.s[15]++;return InstitutionModel.create(applicant);}async function del(_id){cov_1ppmvnth1x.f[4]++;cov_1ppmvnth1x.s[16]++;return InstitutionModel.remove({_id});}async function find(_id){cov_1ppmvnth1x.f[5]++;cov_1ppmvnth1x.s[17]++;return InstitutionModel.findOne({_id}).populate('applicants').populate('subjects');}async function findByName(institutionName){cov_1ppmvnth1x.f[6]++;cov_1ppmvnth1x.s[18]++;return InstitutionModel.findOne({name:institutionName});}cov_1ppmvnth1x.s[19]++;module.exports={addApplicant,addSubject,findAll,find,findByName,del,add};